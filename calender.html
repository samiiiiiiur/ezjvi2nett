<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><title>samz Calendar</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fullcalendar/core@4.2.0/main.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fullcalendar/daygrid@4.3.0/main.min.css"><link rel="stylesheet" href="./style.css"></head><style>@import url(https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&display=swap);body{font-family:Montserrat,sans-serif;overflow:hidden}#calendar{max-width:800px;margin:40px auto}.fc-event{border:1px solid #eee!important}.fc-content{padding:3px!important}.fc-content .fc-title{display:block!important;overflow:hidden;text-align:center;font-size:12px;font-weight:500;text-align:center}.fc-customButton-button{font-size:13px!important;position:absolute;top:60px;left:50%;transform:translateY(-50%)}.form-group{margin-bottom:1rem}.form-group>label{margin-bottom:10px}#delete-modal .modal-footer>.btn{border-radius:3px!important;padding:0 8px!important;font-size:15px}.fc-scroller{overflow-y:hidden!important}.context-menu{position:absolute;z-index:1000;background-color:#fff;border:1px solid #ccc;border-radius:4px;box-shadow:2px 2px 6px rgba(0,0,0,.3);padding:5px}.context-menu ul{list-style-type:none;margin:0;padding:0}.context-menu ul>li{display:block;padding:5px 15px;list-style-type:none;color:#333;display:block;cursor:pointer;margin:0 auto;transition:.1s;font-size:13px}.context-menu ul>li:hover{color:#fff;background-color:#007bff;border-radius:2px}.fa,.fas{font-size:13px;margin-right:4px}</style><body><div id="calendar"></div><div class="modal fade edit-form" id="form" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true"><div class="modal-dialog modal-dialog" role="document"><div class="modal-content"><div class="modal-header border-bottom-0"><h5 class="modal-title" id="modal-title">Add Event</h5><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button></div><form id="myForm"><div class="modal-body"><div class="alert alert-danger" role="alert" id="danger-alert" style="display:none">End date should be greater than start date.</div><div class="form-group"><label for="event-title">Event name<span class="text-danger">*</span></label><input type="text" class="form-control" id="event-title" placeholder="Enter event name" required></div><div class="form-group"><label for="start-date">Start date<span class="text-danger">*</span></label><input type="date" class="form-control" id="start-date" placeholder="start-date" required></div><div class="form-group"><label for="end-date">End date -<small class="text-muted">Optional</small></label><input type="date" class="form-control" id="end-date" placeholder="end-date"></div><div class="form-group"><label for="event-color">Color</label><input type="color" class="form-control" id="event-color" value="#3788d8"></div></div><div class="modal-footer border-top-0 d-flex justify-content-center"><button type="submit" class="btn btn-success" id="submit-button">Submit</button></div></form></div></div></div><div class="modal fade" id="delete-modal" tabindex="-1" role="dialog" aria-labelledby="delete-modal-title" aria-hidden="true"><div class="modal-dialog modal-dialog" role="document"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="delete-modal-title">Confirm Deletion</h5><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button></div><div class="modal-body text-center" id="delete-modal-body">Are you sure you want to delete the event?</div><div class="modal-footer border-0"><button type="button" class="btn btn-secondary rounded-sm" data-dismiss="modal" id="cancel-button">Cancel</button><button type="button" class="btn btn-danger rounded-lg" id="delete-button">Delete</button></div></div></div></div><script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fullcalendar/core@4.2.0/main.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fullcalendar/daygrid@4.2.0/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fullcalendar/interaction@4.2.0/main.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script><script src="https://cdn.jsdelivr.net/npm/uuid@8.3.2/dist/umd/uuidv4.min.js"></script><script>document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("calendar"),t=new bootstrap.Modal(document.getElementById("form")),n=document.getElementById("danger-alert"),d=document.querySelector(".btn-close"),o=JSON.parse(localStorage.getItem("events"))||[{id:uuidv4(),title:"Edit Me",start:"2023-04-11",backgroundColor:"red",allDay:!1,editable:!1},{id:uuidv4(),title:"Delete me",start:"2023-04-17",end:"2023-04-21",allDay:!1,editable:!1}],l=new FullCalendar.Calendar(e,{customButtons:{customButton:{text:"Add Event",click:function(){t.show();const e=document.getElementById("modal-title"),n=document.getElementById("submit-button");e.innerHTML="Add Event",n.innerHTML="Add Event",n.classList.remove("btn-primary"),n.classList.add("btn-success"),d.addEventListener("click",(()=>{t.hide()}))}}},header:{center:"customButton",right:"today, prev,next "},plugins:["dayGrid","interaction"],allDay:!1,editable:!0,selectable:!0,unselectAuto:!1,displayEventTime:!1,events:o,eventRender:function(e){e.el.addEventListener("contextmenu",(function(t){t.preventDefault();let d=document.querySelector(".context-menu");d&&d.remove();let a=document.createElement("div");a.className="context-menu",a.innerHTML='<ul>\n        <li><i class="fas fa-edit"></i>Edit</li>\n        <li><i class="fas fa-trash-alt"></i>Delete</li>\n        </ul>';const c=o.findIndex((t=>t.id===e.event.id));document.body.appendChild(a),a.style.top=t.pageY+"px",a.style.left=t.pageX+"px",a.querySelector("li:first-child").addEventListener("click",(function(){a.remove();const t=new bootstrap.Modal(document.getElementById("form")),d=document.getElementById("modal-title"),c=document.getElementById("event-title"),r=document.getElementById("start-date"),i=document.getElementById("end-date"),s=document.getElementById("event-color"),u=document.getElementById("submit-button");document.getElementById("cancel-button");d.innerHTML="Edit Event",c.value=e.event.title,r.value=moment(e.event.start).format("YYYY-MM-DD"),i.value=moment(e.event.end,"YYYY-MM-DD").subtract(1,"day").format("YYYY-MM-DD"),s.value=e.event.backgroundColor,u.innerHTML="Save Changes",t.show(),u.classList.remove("btn-success"),u.classList.add("btn-primary"),u.addEventListener("click",(function(){const d={id:e.event.id,title:c.value,start:r.value,end:moment(i.value,"YYYY-MM-DD").add(1,"day").format("YYYY-MM-DD"),backgroundColor:s.value};if(d.end<=d.start)return void(n.style.display="block");const a=o.findIndex((e=>e.id===d.id));o.splice(a,1,d),localStorage.setItem("events",JSON.stringify(o));const u=l.getEventById(e.event.id);u.setProp("title",d.title),u.setStart(d.start),u.setEnd(d.end),u.setProp("backgroundColor",d.backgroundColor),t.hide()}))})),a.querySelector("li:last-child").addEventListener("click",(function(){const t=new bootstrap.Modal(document.getElementById("delete-modal")),n=document.getElementById("delete-modal-body"),d=document.getElementById("cancel-button");n.innerHTML=`Are you sure you want to delete <b>"${e.event.title}"</b>`,t.show();document.getElementById("delete-button").addEventListener("click",(function(){o.splice(c,1),localStorage.setItem("events",JSON.stringify(o)),l.getEventById(e.event.id).remove(),t.hide(),a.remove()})),d.addEventListener("click",(function(){t.hide()}))})),document.addEventListener("click",(function(){a.remove()}))}))},eventDrop:function(e){let t=JSON.parse(localStorage.getItem("events"))||[];const n=t.findIndex((t=>t.id===e.event.id)),d={...t[n],id:e.event.id,title:e.event.title,start:moment(e.event.start).format("YYYY-MM-DD"),end:moment(e.event.end).format("YYYY-MM-DD"),backgroundColor:e.event.backgroundColor};t.splice(n,1,d),localStorage.setItem("events",JSON.stringify(t)),console.log(d)}});l.on("select",(function(e){const t=document.getElementById("start-date"),n=document.getElementById("end-date");t.value=e.startStr;const d=moment(e.endStr,"YYYY-MM-DD").subtract(1,"day").format("YYYY-MM-DD");n.value=d,t.value===d&&(n.value="")})),l.render();const a=document.querySelector("form");a.addEventListener("submit",(function(e){e.preventDefault();const d=document.querySelector("#event-title").value,c=document.querySelector("#start-date").value,r=document.querySelector("#end-date").value,i=document.querySelector("#event-color").value,s=moment(r,"YYYY-MM-DD").add(1,"day").format("YYYY-MM-DD"),u=uuidv4();if(console.log(u),s<=c)return void(n.style.display="block");const m={id:u,title:d,start:c,end:s,allDay:!1,backgroundColor:i};o.push(m),l.addEvent(m),localStorage.setItem("events",JSON.stringify(o)),t.hide(),a.reset()})),t._element.addEventListener("hide.bs.modal",(function(){n.style.display="none",a.reset()}))}));</script></body></html>